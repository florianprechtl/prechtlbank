<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">


<ui:composition template="../../WEB-INF/templates/basicTemplate.xhtml">
    <ui:define name="content">
        <f:view>
            <h:panelGroup>
                <b:tabView activeIndex="#{adminModel.tabViewIndex}">
                    // ----------------------------------------------------------------------------------------------------------------------------
                    <b:tab title="User management">
                        <f:facet name="anchor"><b:iconAwesome value="users"/></f:facet>
                        <br/>

                        <b:dataTable value="#{adminModel.allUsers}" var="user" mark-search-results="true">

                            <b:dataTableColumn value="#{user.loginId}" label="Username" order="asc" data-order="#{user.loginId}"/>
                            <b:dataTableColumn value="#{user.firstname}" label="First Name"/>
                            <b:dataTableColumn value="#{user.lastname}" label="Last Name"/>
                            <b:dataTableColumn value="#{user.password}" label="E-Mail"/>

                            <b:dataTableColumn label="Action">
                                <h:form>
                                    <b:commandButton class="margin2px" value=" " icon="edit" ajax="true" update="@(.message-well)" onclick="ajax:adminModel.onUserSelect(user)"/>
                                    <b:commandButton class="margin2px" look="danger" value=" " icon="trash" action="#{adminModel.doDeleteUser(user)}"/>
                                </h:form>
                            </b:dataTableColumn>
                        </b:dataTable>
                        <b:well styleClass="message-well" style="margin-top:10px">
                            <h:form>
                                <h:panelGrid columns="2" class="block top">
                                    <h:outputText value="First Name: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.firstname}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="Last Name: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.lastname}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="Country: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.address.country}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="ZIP Code: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.address.zip}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="City: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.address.city}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="Street: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.address.street}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="Password: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.password}" class="margin2px" style="width: 250px;"/>

                                    <h:outputText value="LoginId: " class="padding2px margin2px"/>
                                    <b:inputText value="#{adminModel.tmpUser.loginId}" class="margin2px" style="width: 250px;"/>
                                </h:panelGrid>

                                <br/><br/>

                                <b:commandButton class="margin2px" look="success" value="Create or update User" action="#{adminModel.doUpsertUser()}"/>
                            </h:form>
                        </b:well>
                    </b:tab>

                    // ----------------------------------------------------------------------------------------------------------------------------

                    <b:tab title="Model management">

                    </b:tab>
                </b:tabView>
            </h:panelGroup>
        </f:view>
    </ui:define>
</ui:composition>
</html>